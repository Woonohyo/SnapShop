<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>SnapShop: com.l3cache.snapshop.volley.ImageRequest Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SnapShop
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">NHN_NEXT_2014-3_Real_Project</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/dee/namespacecom.html">com</a></li><li class="navelem"><a class="el" href="../../d9/da7/namespacecom_1_1l3cache.html">l3cache</a></li><li class="navelem"><a class="el" href="../../d0/dd4/namespacecom_1_1l3cache_1_1snapshop.html">snapshop</a></li><li class="navelem"><a class="el" href="../../d6/df5/namespacecom_1_1l3cache_1_1snapshop_1_1volley.html">volley</a></li><li class="navelem"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html">ImageRequest</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d4/de5/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">com.l3cache.snapshop.volley.ImageRequest Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for com.l3cache.snapshop.volley.ImageRequest:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d13/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request__inherit__graph.png" border="0" usemap="#com_8l3cache_8snapshop_8volley_8_image_request_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for com.l3cache.snapshop.volley.ImageRequest:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd8/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request__coll__graph.png" border="0" usemap="#com_8l3cache_8snapshop_8volley_8_image_request_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a96f9e6826ceb12e8783581b3581fb939"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a96f9e6826ceb12e8783581b3581fb939">ImageRequest</a> (String url, Response.Listener&lt; Bitmap &gt; listener, int maxWidth, int maxHeight, Config decodeConfig, Response.ErrorListener errorListener)</td></tr>
<tr class="separator:a96f9e6826ceb12e8783581b3581fb939"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eaf27dcbda9c503942c34b642bd932c"><td class="memItemLeft" align="right" valign="top">Priority&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a8eaf27dcbda9c503942c34b642bd932c">getPriority</a> ()</td></tr>
<tr class="separator:a8eaf27dcbda9c503942c34b642bd932c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a49cef87c2d0d4d0a55b9396febc2194e"><td class="memItemLeft" align="right" valign="top">Response&lt; Bitmap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a49cef87c2d0d4d0a55b9396febc2194e">parseNetworkResponse</a> (NetworkResponse response)</td></tr>
<tr class="separator:a49cef87c2d0d4d0a55b9396febc2194e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74f8fc1e981c30a237b5fd89a3e7b977"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a74f8fc1e981c30a237b5fd89a3e7b977">deliverResponse</a> (Bitmap response)</td></tr>
<tr class="separator:a74f8fc1e981c30a237b5fd89a3e7b977"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a09f48308f0e4f0043b4f0f3a3c7a294a"><td class="memItemLeft" align="right" valign="top">Response&lt; Bitmap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a09f48308f0e4f0043b4f0f3a3c7a294a">doParse</a> (NetworkResponse response)</td></tr>
<tr class="separator:a09f48308f0e4f0043b4f0f3a3c7a294a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a161aa35448c0cacb45d2dadf9e61e45a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a161aa35448c0cacb45d2dadf9e61e45a">getResizedDimension</a> (int maxPrimary, int maxSecondary, int actualPrimary, int actualSecondary)</td></tr>
<tr class="separator:a161aa35448c0cacb45d2dadf9e61e45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:aa98a57da53945d2f64ecd709b722fd0e"><td class="memItemLeft" align="right" valign="top">final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#aa98a57da53945d2f64ecd709b722fd0e">TAG</a> = ImageRequest.class.getSimpleName()</td></tr>
<tr class="separator:aa98a57da53945d2f64ecd709b722fd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85e79c71fac3fba2c8d1b5fcd7218be8"><td class="memItemLeft" align="right" valign="top">final Response.Listener&lt; Bitmap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a85e79c71fac3fba2c8d1b5fcd7218be8">mListener</a></td></tr>
<tr class="separator:a85e79c71fac3fba2c8d1b5fcd7218be8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af894cf76b0eaff3a7172bb21aea5f6e1"><td class="memItemLeft" align="right" valign="top">final Config&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#af894cf76b0eaff3a7172bb21aea5f6e1">mDecodeConfig</a></td></tr>
<tr class="separator:af894cf76b0eaff3a7172bb21aea5f6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad654dd5d2ead6da0c17bad9f189f57"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">mMaxWidth</a></td></tr>
<tr class="separator:a0ad654dd5d2ead6da0c17bad9f189f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3408eea51b3ac5b88325fd924d0329a7"><td class="memItemLeft" align="right" valign="top">final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">mMaxHeight</a></td></tr>
<tr class="separator:a3408eea51b3ac5b88325fd924d0329a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ed0da05b528eacd0ad67938c94c7177"><td class="memItemLeft" align="right" valign="top">final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a6ed0da05b528eacd0ad67938c94c7177">ROTATE_90_CW</a> = &quot;Right side, top (Rotate 90 CW)&quot;</td></tr>
<tr class="separator:a6ed0da05b528eacd0ad67938c94c7177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b786302260edefc26371d7c5673c0a"><td class="memItemLeft" align="right" valign="top">final String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a93b786302260edefc26371d7c5673c0a">ROTATE_270_CW</a> = &quot;Left side, bottom (Rotate 270 CW)&quot;</td></tr>
<tr class="separator:a93b786302260edefc26371d7c5673c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a8674d22ab195a805f6cddbdf5ad487e0"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a8674d22ab195a805f6cddbdf5ad487e0">IMAGE_TIMEOUT_MS</a> = 1000</td></tr>
<tr class="separator:a8674d22ab195a805f6cddbdf5ad487e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e5e8746cb3f8be7ad9e48e30f1df6f6"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a5e5e8746cb3f8be7ad9e48e30f1df6f6">IMAGE_MAX_RETRIES</a> = 2</td></tr>
<tr class="separator:a5e5e8746cb3f8be7ad9e48e30f1df6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2411ebea79c5d140a107255815e91595"><td class="memItemLeft" align="right" valign="top">static final float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a2411ebea79c5d140a107255815e91595">IMAGE_BACKOFF_MULT</a> = 2f</td></tr>
<tr class="separator:a2411ebea79c5d140a107255815e91595"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fdd7e522243d165fdd0acb27bc78cf9"><td class="memItemLeft" align="right" valign="top">static final Object&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3fdd7e522243d165fdd0acb27bc78cf9">sDecodeLock</a> = new Object()</td></tr>
<tr class="separator:a3fdd7e522243d165fdd0acb27bc78cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A canned request for getting an image at a given URL and calling back with a decoded Bitmap. </p>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00048">48</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a96f9e6826ceb12e8783581b3581fb939"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">com.l3cache.snapshop.volley.ImageRequest.ImageRequest </td>
          <td>(</td>
          <td class="paramtype">String&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Response.Listener&lt; Bitmap &gt;&#160;</td>
          <td class="paramname"><em>listener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Config&#160;</td>
          <td class="paramname"><em>decodeConfig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Response.ErrorListener&#160;</td>
          <td class="paramname"><em>errorListener</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Creates a new image request, decoding to a maximum specified width and height. If both width and height are zero, the image will be decoded to its natural size. If one of the two is nonzero, that dimension will be clamped and the other one will be set to preserve the image's aspect ratio. If both width and height are nonzero, the image will be decoded to be fit in the rectangle of dimensions width x height while keeping its aspect ratio.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>URL of the image </td></tr>
    <tr><td class="paramname">listener</td><td>Listener to receive the decoded bitmap </td></tr>
    <tr><td class="paramname">maxWidth</td><td>Maximum width to decode this bitmap to, or zero for none </td></tr>
    <tr><td class="paramname">maxHeight</td><td>Maximum height to decode this bitmap to, or zero for none </td></tr>
    <tr><td class="paramname">decodeConfig</td><td>Format to decode the bitmap to </td></tr>
    <tr><td class="paramname">errorListener</td><td>Error listener, or null to ignore errors </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00094">94</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                                                                       {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        super(Method.GET, url, errorListener);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        setRetryPolicy(<span class="keyword">new</span> DefaultRetryPolicy(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a8674d22ab195a805f6cddbdf5ad487e0">IMAGE_TIMEOUT_MS</a>, <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a5e5e8746cb3f8be7ad9e48e30f1df6f6">IMAGE_MAX_RETRIES</a>, <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a2411ebea79c5d140a107255815e91595">IMAGE_BACKOFF_MULT</a>));</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a85e79c71fac3fba2c8d1b5fcd7218be8">mListener</a> = listener;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#af894cf76b0eaff3a7172bb21aea5f6e1">mDecodeConfig</a> = decodeConfig;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">mMaxWidth</a> = maxWidth;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">mMaxHeight</a> = maxHeight;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a85e79c71fac3fba2c8d1b5fcd7218be8"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a85e79c71fac3fba2c8d1b5fcd7218be8">com.l3cache.snapshop.volley.ImageRequest.mListener</a></div><div class="ttdeci">final Response.Listener&lt; Bitmap &gt; mListener</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00059">ImageRequest.java:59</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a5e5e8746cb3f8be7ad9e48e30f1df6f6"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a5e5e8746cb3f8be7ad9e48e30f1df6f6">com.l3cache.snapshop.volley.ImageRequest.IMAGE_MAX_RETRIES</a></div><div class="ttdeci">static final int IMAGE_MAX_RETRIES</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00054">ImageRequest.java:54</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a2411ebea79c5d140a107255815e91595"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a2411ebea79c5d140a107255815e91595">com.l3cache.snapshop.volley.ImageRequest.IMAGE_BACKOFF_MULT</a></div><div class="ttdeci">static final float IMAGE_BACKOFF_MULT</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00057">ImageRequest.java:57</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a8674d22ab195a805f6cddbdf5ad487e0"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a8674d22ab195a805f6cddbdf5ad487e0">com.l3cache.snapshop.volley.ImageRequest.IMAGE_TIMEOUT_MS</a></div><div class="ttdeci">static final int IMAGE_TIMEOUT_MS</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00051">ImageRequest.java:51</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_af894cf76b0eaff3a7172bb21aea5f6e1"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#af894cf76b0eaff3a7172bb21aea5f6e1">com.l3cache.snapshop.volley.ImageRequest.mDecodeConfig</a></div><div class="ttdeci">final Config mDecodeConfig</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00060">ImageRequest.java:60</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a3408eea51b3ac5b88325fd924d0329a7"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">com.l3cache.snapshop.volley.ImageRequest.mMaxHeight</a></div><div class="ttdeci">final int mMaxHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00062">ImageRequest.java:62</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a0ad654dd5d2ead6da0c17bad9f189f57"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">com.l3cache.snapshop.volley.ImageRequest.mMaxWidth</a></div><div class="ttdeci">final int mMaxWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00061">ImageRequest.java:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a74f8fc1e981c30a237b5fd89a3e7b977"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void com.l3cache.snapshop.volley.ImageRequest.deliverResponse </td>
          <td>(</td>
          <td class="paramtype">Bitmap&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00240">240</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                                    {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a85e79c71fac3fba2c8d1b5fcd7218be8">mListener</a>.onResponse(response);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a85e79c71fac3fba2c8d1b5fcd7218be8"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a85e79c71fac3fba2c8d1b5fcd7218be8">com.l3cache.snapshop.volley.ImageRequest.mListener</a></div><div class="ttdeci">final Response.Listener&lt; Bitmap &gt; mListener</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00059">ImageRequest.java:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a09f48308f0e4f0043b4f0f3a3c7a294a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Response&lt;Bitmap&gt; com.l3cache.snapshop.volley.ImageRequest.doParse </td>
          <td>(</td>
          <td class="paramtype">NetworkResponse&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The real guts of parseNetworkResponse. Broken out for readability. </p>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00166">166</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                                                               {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        byte[] data = response.data;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        BitmapFactory.Options decodeOptions = <span class="keyword">new</span> BitmapFactory.Options();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        Bitmap bitmap = null;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">mMaxWidth</a> == 0 &amp;&amp; <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">mMaxHeight</a> == 0) {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            decodeOptions.inPreferredConfig = <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#af894cf76b0eaff3a7172bb21aea5f6e1">mDecodeConfig</a>;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            bitmap = BitmapFactory.decodeByteArray(data, 0, data.length, decodeOptions);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="comment">// If we have to resize this image, first get the natural bounds.</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            decodeOptions.inJustDecodeBounds = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            BitmapFactory.decodeByteArray(data, 0, data.length, decodeOptions);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            <span class="keywordtype">int</span> actualWidth = decodeOptions.outWidth;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordtype">int</span> actualHeight = decodeOptions.outHeight;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="comment">// Then compute the dimensions we would ideally like to decode to.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="keywordtype">int</span> desiredWidth = <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a161aa35448c0cacb45d2dadf9e61e45a">getResizedDimension</a>(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">mMaxWidth</a>, <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">mMaxHeight</a>, actualWidth, actualHeight);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keywordtype">int</span> desiredHeight = <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a161aa35448c0cacb45d2dadf9e61e45a">getResizedDimension</a>(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">mMaxHeight</a>, <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">mMaxWidth</a>, actualHeight, actualWidth);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            <span class="comment">// Decode to the nearest power of two scaling factor.</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            decodeOptions.inJustDecodeBounds = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            <span class="comment">// TODO(ficus): Do we need this or is it okay since API 8 doesn&#39;t</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            <span class="comment">// support it?</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="comment">// decodeOptions.inPreferQualityOverSpeed =</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="comment">// PREFER_QUALITY_OVER_SPEED;</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            decodeOptions.inSampleSize = findBestSampleSize(actualWidth, actualHeight, desiredWidth, desiredHeight);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            Bitmap tempBitmap = BitmapFactory.decodeByteArray(data, 0, data.length, decodeOptions);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="comment">// If necessary, scale down to the maximal acceptable size.</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">if</span> (tempBitmap != null &amp;&amp; (tempBitmap.getWidth() &gt; desiredWidth || tempBitmap.getHeight() &gt; desiredHeight)) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                bitmap = Bitmap.createScaledBitmap(tempBitmap, desiredWidth, desiredHeight, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                tempBitmap.recycle();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                bitmap = tempBitmap;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            }</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            Matrix matrix = <span class="keyword">new</span> Matrix();</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> ByteArrayInputStream(data));</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            Metadata meta = ImageMetadataReader.readMetadata(bis, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            ExifIFD0Directory directory = meta.getDirectory(ExifIFD0Directory.class);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <span class="keywordflow">if</span> (directory.getDescription(ExifIFD0Directory.TAG_ORIENTATION) != null) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                String orientation = directory.getDescription(ExifIFD0Directory.TAG_ORIENTATION);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                Log.i(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#aa98a57da53945d2f64ecd709b722fd0e">TAG</a>, <span class="stringliteral">&quot;Orientation is &quot;</span> + orientation);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="comment">// 왼쪽으로 90도 돌아간 그림의 경우</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="keywordflow">if</span> (orientation.equals(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a6ed0da05b528eacd0ad67938c94c7177">ROTATE_90_CW</a>)) {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                    Log.i(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#aa98a57da53945d2f64ecd709b722fd0e">TAG</a>, <span class="stringliteral">&quot;Gotcha! - &quot;</span> + orientation);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                    matrix.postRotate(90);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (orientation.equals(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a93b786302260edefc26371d7c5673c0a">ROTATE_270_CW</a>)) {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                    Log.i(<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#aa98a57da53945d2f64ecd709b722fd0e">TAG</a>, <span class="stringliteral">&quot;Gotcha! - &quot;</span> + orientation);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                    matrix.postRotate(270);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                    bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.getWidth(), bitmap.getHeight(), matrix, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        } <span class="keywordflow">catch</span> (ImageProcessingException e) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            e.printStackTrace();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;        } <span class="keywordflow">catch</span> (IOException e) {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            e.printStackTrace();</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        } <span class="keywordflow">catch</span> (NullPointerException e) {</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            e.printStackTrace();</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <span class="keywordflow">if</span> (bitmap == null) {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            <span class="keywordflow">return</span> Response.error(<span class="keyword">new</span> ParseError(response));</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">return</span> Response.success(bitmap, HttpHeaderParser.parseCacheHeaders(response));</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;        }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a93b786302260edefc26371d7c5673c0a"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a93b786302260edefc26371d7c5673c0a">com.l3cache.snapshop.volley.ImageRequest.ROTATE_270_CW</a></div><div class="ttdeci">final String ROTATE_270_CW</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00070">ImageRequest.java:70</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a6ed0da05b528eacd0ad67938c94c7177"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a6ed0da05b528eacd0ad67938c94c7177">com.l3cache.snapshop.volley.ImageRequest.ROTATE_90_CW</a></div><div class="ttdeci">final String ROTATE_90_CW</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00069">ImageRequest.java:69</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_aa98a57da53945d2f64ecd709b722fd0e"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#aa98a57da53945d2f64ecd709b722fd0e">com.l3cache.snapshop.volley.ImageRequest.TAG</a></div><div class="ttdeci">final String TAG</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00049">ImageRequest.java:49</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_af894cf76b0eaff3a7172bb21aea5f6e1"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#af894cf76b0eaff3a7172bb21aea5f6e1">com.l3cache.snapshop.volley.ImageRequest.mDecodeConfig</a></div><div class="ttdeci">final Config mDecodeConfig</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00060">ImageRequest.java:60</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a3408eea51b3ac5b88325fd924d0329a7"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3408eea51b3ac5b88325fd924d0329a7">com.l3cache.snapshop.volley.ImageRequest.mMaxHeight</a></div><div class="ttdeci">final int mMaxHeight</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00062">ImageRequest.java:62</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a0ad654dd5d2ead6da0c17bad9f189f57"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a0ad654dd5d2ead6da0c17bad9f189f57">com.l3cache.snapshop.volley.ImageRequest.mMaxWidth</a></div><div class="ttdeci">final int mMaxWidth</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00061">ImageRequest.java:61</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a161aa35448c0cacb45d2dadf9e61e45a"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a161aa35448c0cacb45d2dadf9e61e45a">com.l3cache.snapshop.volley.ImageRequest.getResizedDimension</a></div><div class="ttdeci">static int getResizedDimension(int maxPrimary, int maxSecondary, int actualPrimary, int actualSecondary)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00124">ImageRequest.java:124</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a09f48308f0e4f0043b4f0f3a3c7a294a_cgraph.png" border="0" usemap="#d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a09f48308f0e4f0043b4f0f3a3c7a294a_cgraph" alt=""/></div>
<map name="d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a09f48308f0e4f0043b4f0f3a3c7a294a_cgraph" id="d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a09f48308f0e4f0043b4f0f3a3c7a294a_cgraph">
<area shape="rect" id="node2" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a161aa35448c0cacb45d2dadf9e61e45a" title="com.l3cache.snapshop.volley.\lImageRequest.getResizedDimension" alt="" coords="253,5,496,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8eaf27dcbda9c503942c34b642bd932c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Priority com.l3cache.snapshop.volley.ImageRequest.getPriority </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00105">105</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                                  {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> Priority.LOW;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a161aa35448c0cacb45d2dadf9e61e45a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int com.l3cache.snapshop.volley.ImageRequest.getResizedDimension </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxPrimary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxSecondary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>actualPrimary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>actualSecondary</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Scales one side of a rectangle to fit aspect ratio.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxPrimary</td><td>Maximum size of the primary dimension (i.e. width for max width), or zero to maintain aspect ratio with secondary dimension </td></tr>
    <tr><td class="paramname">maxSecondary</td><td>Maximum size of the secondary dimension, or zero to maintain aspect ratio with primary dimension </td></tr>
    <tr><td class="paramname">actualPrimary</td><td>Actual size of the primary dimension </td></tr>
    <tr><td class="paramname">actualSecondary</td><td>Actual size of the secondary dimension </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00124">124</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                                                                                                                     {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// If no dominant value at all, just return the actual.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">if</span> (maxPrimary == 0 &amp;&amp; maxSecondary == 0) {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span> actualPrimary;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// If primary is unspecified, scale primary to match secondary&#39;s scaling</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="comment">// ratio.</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (maxPrimary == 0) {</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordtype">double</span> ratio = (double) maxSecondary / (<span class="keywordtype">double</span>) actualSecondary;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">return</span> (<span class="keywordtype">int</span>) (actualPrimary * ratio);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">if</span> (maxSecondary == 0) {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">return</span> maxPrimary;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordtype">double</span> ratio = (double) actualSecondary / (<span class="keywordtype">double</span>) actualPrimary;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordtype">int</span> resized = maxPrimary;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">if</span> (resized * ratio &gt; maxSecondary) {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            resized = (int) (maxSecondary / ratio);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">return</span> resized;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a49cef87c2d0d4d0a55b9396febc2194e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Response&lt;Bitmap&gt; com.l3cache.snapshop.volley.ImageRequest.parseNetworkResponse </td>
          <td>(</td>
          <td class="paramtype">NetworkResponse&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00150">150</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                                                                              {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="comment">// Serialize all decode on a global lock to reduce concurrent heap</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">// usage.</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keyword">synchronized</span> (<a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3fdd7e522243d165fdd0acb27bc78cf9">sDecodeLock</a>) {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            <span class="keywordflow">try</span> {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a09f48308f0e4f0043b4f0f3a3c7a294a">doParse</a>(response);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            } <span class="keywordflow">catch</span> (OutOfMemoryError e) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                VolleyLog.e(<span class="stringliteral">&quot;Caught OOM for %d byte image, url=%s&quot;</span>, response.data.length, getUrl());</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <span class="keywordflow">return</span> Response.error(<span class="keyword">new</span> ParseError(e));</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a09f48308f0e4f0043b4f0f3a3c7a294a"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a09f48308f0e4f0043b4f0f3a3c7a294a">com.l3cache.snapshop.volley.ImageRequest.doParse</a></div><div class="ttdeci">Response&lt; Bitmap &gt; doParse(NetworkResponse response)</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00166">ImageRequest.java:166</a></div></div>
<div class="ttc" id="classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_html_a3fdd7e522243d165fdd0acb27bc78cf9"><div class="ttname"><a href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a3fdd7e522243d165fdd0acb27bc78cf9">com.l3cache.snapshop.volley.ImageRequest.sDecodeLock</a></div><div class="ttdeci">static final Object sDecodeLock</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d45/_image_request_8java_source.html#l00068">ImageRequest.java:68</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a49cef87c2d0d4d0a55b9396febc2194e_cgraph.png" border="0" usemap="#d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a49cef87c2d0d4d0a55b9396febc2194e_cgraph" alt=""/></div>
<map name="d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a49cef87c2d0d4d0a55b9396febc2194e_cgraph" id="d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request_a49cef87c2d0d4d0a55b9396febc2194e_cgraph">
<area shape="rect" id="node2" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a09f48308f0e4f0043b4f0f3a3c7a294a" title="com.l3cache.snapshop.volley.\lImageRequest.doParse" alt="" coords="309,5,509,46"/><area shape="rect" id="node3" href="../../d6/d7a/classcom_1_1l3cache_1_1snapshop_1_1volley_1_1_image_request.html#a161aa35448c0cacb45d2dadf9e61e45a" title="com.l3cache.snapshop.volley.\lImageRequest.getResizedDimension" alt="" coords="557,5,800,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2411ebea79c5d140a107255815e91595"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final float com.l3cache.snapshop.volley.ImageRequest.IMAGE_BACKOFF_MULT = 2f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default backoff multiplier for image requests </p>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00057">57</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a5e5e8746cb3f8be7ad9e48e30f1df6f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int com.l3cache.snapshop.volley.ImageRequest.IMAGE_MAX_RETRIES = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Default number of retries for image requests </p>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00054">54</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a8674d22ab195a805f6cddbdf5ad487e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int com.l3cache.snapshop.volley.ImageRequest.IMAGE_TIMEOUT_MS = 1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Socket timeout in milliseconds for image requests </p>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00051">51</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="af894cf76b0eaff3a7172bb21aea5f6e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Config com.l3cache.snapshop.volley.ImageRequest.mDecodeConfig</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00060">60</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a85e79c71fac3fba2c8d1b5fcd7218be8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Response.Listener&lt;Bitmap&gt; com.l3cache.snapshop.volley.ImageRequest.mListener</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00059">59</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a3408eea51b3ac5b88325fd924d0329a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int com.l3cache.snapshop.volley.ImageRequest.mMaxHeight</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00062">62</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a0ad654dd5d2ead6da0c17bad9f189f57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int com.l3cache.snapshop.volley.ImageRequest.mMaxWidth</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00061">61</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a93b786302260edefc26371d7c5673c0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String com.l3cache.snapshop.volley.ImageRequest.ROTATE_270_CW = &quot;Left side, bottom (Rotate 270 CW)&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00070">70</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a6ed0da05b528eacd0ad67938c94c7177"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String com.l3cache.snapshop.volley.ImageRequest.ROTATE_90_CW = &quot;Right side, top (Rotate 90 CW)&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00069">69</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="a3fdd7e522243d165fdd0acb27bc78cf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final Object com.l3cache.snapshop.volley.ImageRequest.sDecodeLock = new Object()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decoding lock so that we don't decode more than one image at a time (to avoid OOM's) </p>

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00068">68</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<a class="anchor" id="aa98a57da53945d2f64ecd709b722fd0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final String com.l3cache.snapshop.volley.ImageRequest.TAG = ImageRequest.class.getSimpleName()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d45/_image_request_8java_source.html#l00049">49</a> of file <a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/com/l3cache/snapshop/volley/<a class="el" href="../../d2/d45/_image_request_8java_source.html">ImageRequest.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 17 2014 20:25:22 for SnapShop by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
